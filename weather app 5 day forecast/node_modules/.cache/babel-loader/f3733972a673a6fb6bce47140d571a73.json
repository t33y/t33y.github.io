{"ast":null,"code":"const API_KEY = process.env.REACT_APP_API_KEY;\nconst getWeatherData = async (currentLocation, unit) => {\n  const URL = `https://api.openweathermap.org/data/2.5/forecast?${currentLocation}&appid=${API_KEY}&units=${unit}`;\n  if (navigator) {\n    try {\n      navigator.geolocation.getCurrentPosition(getCoordinate);\n    } catch (err) {\n      setError([...error, err.message]);\n    }\n  } else {\n    setError([...error, \"Geolocation Unsupported\"]);\n  }\n  const getCoordinate = position => {\n    const location = `lat=${position.coord.lat}&lon=${position.coord.lon}`;\n    console.log(location);\n  };\n  const res = await fetch(URL);\n  const response = await res.json();\n  console.log(URL, currentLocation);\n  const data = response.list.filter(item => item.dt_txt.includes(\"00:00:00\")).map(item => ({\n    temp: item.main.temp,\n    date: item.dt,\n    desc: item.weather[0].description,\n    icon: item.weather[0].icon\n  }));\n  return data;\n};\nexport default getWeatherData;","map":{"version":3,"names":["API_KEY","process","env","REACT_APP_API_KEY","getWeatherData","currentLocation","unit","URL","navigator","geolocation","getCurrentPosition","getCoordinate","err","setError","error","message","position","location","coord","lat","lon","console","log","res","fetch","response","json","data","list","filter","item","dt_txt","includes","map","temp","main","date","dt","desc","weather","description","icon"],"sources":["/Users/omotayoolarewaju/Desktop/tayos-weather-app2/src/services.js"],"sourcesContent":["const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst getWeatherData = async (currentLocation, unit) =>{\n    const URL = `https://api.openweathermap.org/data/2.5/forecast?${currentLocation}&appid=${API_KEY}&units=${unit}`;\n\n    if(navigator){\n        try{\n            navigator.geolocation.getCurrentPosition(getCoordinate)\n        }catch(err){setError([...error, err.message])}\n    }else{setError([...error, \"Geolocation Unsupported\"])}\n    \n    const getCoordinate = (position)=>{\n        const location = `lat=${position.coord.lat}&lon=${position.coord.lon}`\n        console.log(location)\n\n    }\n\n\n        const res = await fetch(URL);\n        const response = await res.json()\n        console.log(URL, currentLocation)\n        const data = response.list\n        .filter((item)=>item.dt_txt.includes(\"00:00:00\"))\n        .map((item)=>({\n            temp : item.main.temp,\n            date : item.dt,\n            desc : item.weather[0].description,\n            icon : item.weather[0].icon\n        }))\n        return data;\n}\n\nexport default getWeatherData;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,MAAMC,cAAc,GAAG,OAAOC,eAAe,EAAEC,IAAI,KAAI;EACnD,MAAMC,GAAG,GAAI,oDAAmDF,eAAgB,UAASL,OAAQ,UAASM,IAAK,EAAC;EAEhH,IAAGE,SAAS,EAAC;IACT,IAAG;MACCA,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAACC,aAAa,CAAC;IAC3D,CAAC,QAAMC,GAAG,EAAC;MAACC,QAAQ,CAAC,CAAC,GAAGC,KAAK,EAAEF,GAAG,CAACG,OAAO,CAAC,CAAC;IAAA;EACjD,CAAC,MAAI;IAACF,QAAQ,CAAC,CAAC,GAAGC,KAAK,EAAE,yBAAyB,CAAC,CAAC;EAAA;EAErD,MAAMH,aAAa,GAAIK,QAAQ,IAAG;IAC9B,MAAMC,QAAQ,GAAI,OAAMD,QAAQ,CAACE,KAAK,CAACC,GAAI,QAAOH,QAAQ,CAACE,KAAK,CAACE,GAAI,EAAC;IACtEC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;EAEzB,CAAC;EAGG,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAACjB,GAAG,CAAC;EAC5B,MAAMkB,QAAQ,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;EACjCL,OAAO,CAACC,GAAG,CAACf,GAAG,EAAEF,eAAe,CAAC;EACjC,MAAMsB,IAAI,GAAGF,QAAQ,CAACG,IAAI,CACzBC,MAAM,CAAEC,IAAI,IAAGA,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAChDC,GAAG,CAAEH,IAAI,KAAI;IACVI,IAAI,EAAGJ,IAAI,CAACK,IAAI,CAACD,IAAI;IACrBE,IAAI,EAAGN,IAAI,CAACO,EAAE;IACdC,IAAI,EAAGR,IAAI,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,WAAW;IAClCC,IAAI,EAAGX,IAAI,CAACS,OAAO,CAAC,CAAC,CAAC,CAACE;EAC3B,CAAC,CAAC,CAAC;EACH,OAAOd,IAAI;AACnB,CAAC;AAED,eAAevB,cAAc"},"metadata":{},"sourceType":"module"}